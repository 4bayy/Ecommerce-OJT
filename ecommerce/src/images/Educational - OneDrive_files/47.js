(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([[47],{3516:function(e,t,n){"use strict";n.d(t,"t",function(){return r}),n.d(t,"e",function(){return o});var a=n(23),i=n(19),r=new a.e("uploadProgress",{sourceEntryKey:i.e});function o(e){return r.serialize({sourceEntryKey:e})}},5308:function(e,t,n){"use strict";n.r(t),n.d(t,"spProjectedUploadedItemSetAddon",function(){return O});var a=n(0),i=n(7),r=n(287),o=n(592),s=n(438),c=n(2169),d=n(100),l=n(286),u=n(260),f=n(2),p=n(6),m=n(150),_=n(40),h=n(435),b=n(3516),g=n(48),v=n(225),y=n(1),S=new f.e("projection"),D=Object(i.i)()(function(e){var t=this,n=c.e.deserialize(e.itemKey).itemSetKey;return function(i){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,r,o;return Object(a.__generator)(this,function(s){return t=d.e.serialize(n),(r=new l.e).resolveItems({items:(o={},o[e.itemKey]=Object(a.__assign)(Object(a.__assign)({},S.pack({})),Object(u.e)().forFacet(S).thenInvalidate(function(){return function(){i(function(e){var t=this,n=e.itemSetKey,i=d.e.deserialize(n),r=c.e.serialize({itemSetKey:i});return function(e){return Object(a.__awaiter)(t,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(n){return e(Object(m.e)(function(e){var t=_.e.serialize(i),n=e.demandItemFacet(y.t,t);if(n&&Object.keys(n).length>0)return!1;for(var a=e.demandItemFacet(p.e,h.e),r=0,o=a&&a.itemKeys||[];r<o.length;r++){var s=o[r];if(e.demandItemFacet(b.t,s)){var c=e.demandItemFacet(g.o,s),d=e.demandItemFacet(_.e,c&&c.itemKey);if(d&&d.rootFolder===i.rootFolder)return!1}}return!0}))&&e(Object(v.e)({items:(t={},t[r]=Object(a.__assign)({},p.e.pack({itemKeys:[]})),t)})),[2]})})}}({itemSetKey:t}))}}).pack()),o[t]=Object(u.e)().forFacet(p.e).thenInvalidate(e.itemKey,S).pack(),o)}),i(r.execute()),[2]})})}}),I=n(1701),x=n(4);function C(e,t){var n=t.itemKey,a=t.itemKeys,i=e.demandItemFacet(d.e,n);if(i){var r=function(e,t,n){var a=[],i=c.e.serialize({itemSetKey:t}),r=e.demandItemFacet(p.e,i);if(e.demandItemFacet(S,c.e.serialize({itemSetKey:t})),r&&(!r.itemKeys||0!==r.itemKeys.length)){for(var o={},s={},d=0,l=r.itemKeys;d<l.length;d++){var u=l[d];a.push(u);var f=e.demandItemFacet(_.e,u);f&&(f.itemId&&(o[f.itemId]=!0),f.rootFolder&&(s[f.rootFolder]=!0)),o[u]=!0}if(n)for(var m=0,h=n;m<h.length;m++){var b=h[m],g=e.demandItemFacet(_.e,b);if(g)if(e.demandItemFacet(x._,b)){if(g.rootFolder&&g.rootFolder in s)continue}else if(g.itemId&&g.itemId in o)continue;a.push(b)}return a}}(e,i,a);return r?{itemKeys:r}:{}}return{}}var O=Object(i.t)(function(){return function(e){return Object(a.__awaiter)(void 0,void 0,void 0,function(){return Object(a.__generator)(this,function(t){return e(Object(o.e)(d.e,I.e)(C)),e(Object(r.a)(c.e,s.e)(D)),[2]})})}})}}]);